tags: #algorithm #reverse-polish-notation #korean

<hr />

[[200921 Reverse Polish Notation | ðŸ‡ºðŸ‡² English]]
[[200921 å¾Œç½®è¨˜æ³•ãƒ»é€†ãƒãƒ¼ãƒ©ãƒ³ãƒ‰è¨˜æ³•ã«å¤‰æ› | ðŸ‡¯ðŸ‡µ æ—¥æœ¬èªž]]

## í›„ìœ„í‘œê¸°ì‹(postfix notation)

`A*(B+C)`ì™€ ê°™ì€ ì‹ì„ **ì¤‘ìœ„í‘œê¸°ì‹**(Infix Notation)ì´ë¼ê³  í•˜ëŠ”ë°, ì´ë¥¼ `ABC+*`ì™€ ê°™ì´ ì—°ì‚°ìžë“¤ì´ ì˜¤ë¥¸ìª½ì— ì˜¤ë„ë¡ í‘œê¸°í•  ìˆ˜ ìžˆë‹¤. ì´ëŸ° í‘œê¸° ë°©ì‹ì„ **í›„ìœ„í‘œê¸°ì‹**(Postfix Notation)ì´ë¼ê³  í•œë‹¤.

**ìŠ¤íƒ**ì„ ì²˜ìŒ ë°°ìš¸ ë•Œ ê°€ìž¥ ë§Žì´ ì ‘í•˜ê²Œ ë˜ëŠ” ë¬¸ì œë¡œì¨, ìŠ¤íƒ ìžë£Œêµ¬ì¡°ë¥¼ ì‚¬ìš©í•´ ì¤‘ìœ„í‘œê¸°ì‹ì„ í›„ìœ„í‘œê¸°ì‹ìœ¼ë¡œ ë³€í™˜í•  ìˆ˜ ìžˆë‹¤.

í•´ë‹¹ ì•Œê³ ë¦¬ì¦˜ì€ ì•„ëž˜ì˜ í–‰ë™ì„ ë°˜ë³µí•œë‹¤.

1.  í”¼ì—°ì‚°ìž (ìˆ«ìž, ì—¬ê¸°ì„œëŠ” A~Z)ì˜ ê²½ìš° ë°”ë¡œ ì¶œë ¥í•œë‹¤.
    
    ```ruby
    if (expr[i]>='A' and expr[i]<='Z') 
        print expr[i]
    end
    ```
    
2.  ì—¬ëŠ” ê´„í˜¸(`(`)ì˜ ê²½ìš° ìŠ¤íƒì— pushí•œë‹¤.
    
    ```ruby
    if (expr[i]=='(')
        op << expr[i]
    end
    ```
    
3.  ë‹«ëŠ” ê´„í˜¸(`)`)ë¥¼ ë§Œë‚œ ê²½ìš°, ìŠ¤íƒì—ì„œ ì—¬ëŠ” ê´„í˜¸ë¥¼ ë§Œë‚ ë•Œê¹Œì§€ popí•œë‹¤.
    
    ```ruby
    if (expr[i]==')')
        while op.last != '('
            print op.last 
            op.pop
        end
        op.pop
    end
    ```
    
4.  ì—°ì‚°ìžë¥¼ ë§Œë‚œ ê²½ìš°, ì•„ëž˜ì˜ ì¡°ê±´ì´ ì°¸ì´ë©´ ìŠ¤íƒì— pushí•œë‹¤.
    
    1.  ìŠ¤íƒì´ ë¹„ì–´ìžˆëŠ” ê²½ìš°
    2.  ìŠ¤íƒ topì´ ì—¬ëŠ” ê´„í˜¸(`(`)ì¸ ê²½ìš°
    3.  ì§€ê¸ˆ ë§Œë‚œ ì—°ì‚°ìžì˜ ìš°ì„ ìˆœìœ„ê°€, ìŠ¤íƒ topì˜ ì—°ì‚°ìžì˜ ìš°ì„ ìˆœìœ„ ë³´ë‹¤ ë†’ì€ ê²½ìš°
5.  4ë²ˆì´ í•´ë‹¹í•˜ì§€ ì•Šì„ ê²½ìš°, ì§€ê¸ˆ ë§Œë‚œ ì—°ì‚°ìžì˜ ìš°ì„ ìˆœìœ„ë³´ë‹¤ ë‚®ê±°ë‚˜ ê°™ì€ ì—°ì‚°ìžë“¤ì„ ìŠ¤íƒì—ì„œ ì „ë¶€ popí•œ í›„, ì§€ê¸ˆì˜ ì—°ì‚°ìžë¥¼ pushí•œë‹¤.
    
    ```ruby
    if (expr[i]=='+' or expr[i]=='-' or expr[i]=='*' or expr[i]=='/')
        ## 4ë²ˆ
        if (op.size==0 || op.last=='(' || 
           (priority(expr[i]) > priority(op.last)))
         op << expr[i] 
         ## 5ë²ˆ
        else 
            while priority(expr[i]) <= priority(op.last)
                print op.last 
                op.pop 
            end
            op << expr[i]
        end
    end
    ```
    
6.  5ë²ˆê¹Œì§€ì˜ ì—°ì‚°ì´ ì™„ë£Œëœ í›„, ìŠ¤íƒì— ë‚¨ì•„ìžˆëŠ” ì—°ì‚°ìžë“¤ì„ ì „ë¶€ ì¶œë ¥í•œë‹¤.
    
    ```ruby
    op.size.times do
        print op.pop
    end
    ```
    

`A*(B+C)`ë¥¼ ì˜ˆë¡œ ë“¤ì–´ë³´ìž.

![step1](https://s3.us-west-2.amazonaws.com/secure.notion-static.com/dd5d96fa-fa5b-4ad7-8161-7a2a5003ecd3/infix2postfix-1.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Credential=AKIAT73L2G45O3KS52Y5%2F20210206%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20210206T052833Z&X-Amz-Expires=86400&X-Amz-Signature=ce004ed6242373248250f491e350c13e7324fc04ff9172170e956ba8e2dbfb7a&X-Amz-SignedHeaders=host)

`A`ëŠ” í”¼ì—°ì‚°ìžì´ê¸° 1ë²ˆ ê·œì¹™ì„ ë”°ë¼ ê³§ë°”ë¡œ ì¶œë ¥í•œë‹¤.

![step2](https://s3.us-west-2.amazonaws.com/secure.notion-static.com/7aa08ca9-13e6-463c-82c3-20bb593f1f0a/infix2postfix-2.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Credential=AKIAT73L2G45O3KS52Y5%2F20210206%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20210206T052833Z&X-Amz-Expires=86400&X-Amz-Signature=e59ba966703166d194edef5094fa74dd6b04863043f4da8fc1223e0f644ceb6c&X-Amz-SignedHeaders=host)

`*` ì—°ì‚°ìžì˜ ê²½ìš° 4ë²ˆ ê·œì¹™ (ìŠ¤íƒì´ ë¹„ì–´ìžˆëŠ” ê²½ìš°)ì— ë•Œë¼ ìŠ¤íƒì— ì§‘ì–´ë„£ê³ , `(` ì—°ì‚°ìžëŠ” 2ë²ˆ ê·œì¹™ì„ ë”°ë¼ ìŠ¤íƒì— ì§‘ì–´ë„£ëŠ”ë‹¤.

![step3](https://s3.us-west-2.amazonaws.com/secure.notion-static.com/4ecf09a9-aea3-41d6-8296-e1b4324a49ca/infix2postfix-3.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Credential=AKIAT73L2G45O3KS52Y5%2F20210206%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20210206T052833Z&X-Amz-Expires=86400&X-Amz-Signature=e3b5750417fe7e0cf5d191e0664f6bc196fae2c02eb8d3cf952795b24c8e4568&X-Amz-SignedHeaders=host)

`B`ëŠ” 1ë²ˆ ê·œì¹™ì„ ë”°ë¼ ê³§ë°”ë¡œ ì¶œë ¥í•œë‹¤.

`+`ì˜ ê²½ìš° 4ë²ˆ ê·œì¹™ ì¤‘ `ìŠ¤íƒì˜ topì´ ì—¬ëŠ” ê´„í˜¸ì¸ ê²½ìš°`ì— í•´ë‹¹í•˜ê¸° ë•Œë¬¸ì— ìŠ¤íƒì— pushí•œë‹¤.

![step4](https://s3.us-west-2.amazonaws.com/secure.notion-static.com/e141f449-dcd4-4d34-bc05-27a351c91adc/infix2postfix-4.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Credential=AKIAT73L2G45O3KS52Y5%2F20210206%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20210206T052833Z&X-Amz-Expires=86400&X-Amz-Signature=643b6a0a57284d454da757a8788412bcd09bc5d62872e5a8d44ae6977a4ae31c&X-Amz-SignedHeaders=host)

`C`ë˜í•œ í”¼ì—°ì‚°ìžì´ê¸° ë•Œë¬¸ì— ë°”ë¡œ ì¶œë ¥í•œë‹¤.

![step5](https://s3.us-west-2.amazonaws.com/secure.notion-static.com/25dd0591-a2a7-4e09-af80-4f6b72bb40dc/infix2postfix-5.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Credential=AKIAT73L2G45O3KS52Y5%2F20210206%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20210206T052833Z&X-Amz-Expires=86400&X-Amz-Signature=ebe5b8a0e32e9873073ef092a8ba37d9cdaf1f70f4738e7ec00d575be613466d&X-Amz-SignedHeaders=host)

`(` ì—°ì‚°ìžëŠ” 3ë²ˆ ê·œì¹™ì— ë”°ë¼ `(` ì—°ì‚°ìžê°€ ë‚˜ì˜¬ë•Œê¹Œì§€ ìŠ¤íƒì„ popí•œë‹¤.

ëª¨ë“  ì—°ì‚°ìžë“¤ê³¼ í”¼ì—°ì‚°ìžë“¤ì˜ ìŠ¤ìº”ì´ ëë‚¬ë‹¤. ëìœ¼ë¡œ, ìŠ¤íƒì´ ë¹„ì–´ìžˆëŠ”ì§€ í™•ì¸í•˜ê³  ë‚¨ì•„ìžˆëŠ” ê²ƒë“¤ì„ ì „ë¶€ popí•´ì¤€ë‹¤.

![final step](https://s3.us-west-2.amazonaws.com/secure.notion-static.com/8ae1c23e-7876-4db0-af15-227ab2ce8a1e/infix2postfix-6.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Credential=AKIAT73L2G45O3KS52Y5%2F20210206%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20210206T052833Z&X-Amz-Expires=86400&X-Amz-Signature=9201209ceadfbe1d5e0200e07adbc690b3ea61df42cf85ca2eec93d76e1d3e21&X-Amz-SignedHeaders=host)

## ì „ì²´ ì½”ë“œ
- https://github.com/eubug17/ds-algo/blob/master/algorithm/stack/infix2postfix/infix2postfix.rb

## ë¬¸ì œ í’€ì–´ë³´ê¸°
[1918ë²ˆ: í›„ìœ„ í‘œê¸°ì‹](https://www.acmicpc.net/problem/1918)
[1935ë²ˆ: í›„ìœ„ í‘œê¸°ì‹2](https://www.acmicpc.net/problem/1935)